<form class="flex flex-col gap-y-5 mt-[2rem] py-5" 
   [formGroup]="valueGraphFormGroup"
   (ngSubmit)="getValueGraph()"
>

   <mat-form-field>
      <mat-label for="name">Nombre: </mat-label>
      <input matInput id="name" type="text" formControlName="name" [value]="formValues()?.name"/>
      @if (valueGraphFormGroup.controls['name'].getError('required')) {
         <mat-error>Debes indicar un nombre</mat-error>
      }
      @else if (valueGraphFormGroup.controls['name'].getError('maxlength')) {
         <mat-error>El nombre solo puede contener hasta 30 letras</mat-error>
      }
      @else if (valueGraphFormGroup.controls['name'].getError('pattern')) {
         <mat-error>El nombre solo puede contener letras y no debe tener m√°s de un espacio.</mat-error>
      }
   </mat-form-field>

   <mat-form-field>
      <mat-label for="value">Valor: </mat-label>
      <input matInput id="value" type="number" formControlName="value" [value]="formValues()?.value"/>
      @if (valueGraphFormGroup.controls['value'].getError('required')) {
         <mat-error>Debes indicar un valor</mat-error>
      }
      @else if (valueGraphFormGroup.controls['value'].getError('max')) {
         <mat-error>El valor no debe ser mayor a: 9.999.999.999</mat-error>
      }
   </mat-form-field>

   <mat-form-field>
      <mat-label for="color">State: </mat-label>
      <input matInput id="color" type="color" formControlName="domain" [value]="formValues()?.domain"/>
      @if (valueGraphFormGroup.controls['domain'].getError('domain')) {
         <mat-error>Debes elegir un color</mat-error>
      }
   </mat-form-field>

   <button mat-raised-button class="m-auto w-50" 
      color="primary" 
      type="submit" 
      [disabled]="valueGraphFormGroup.invalid"
   >
      @if(toEditValueGraph() === undefined){
         <span>Agregar</span>
      }
      @else {
         <span>Editar</span>
      }
   </button>

   @if(toEditValueGraph() !== undefined) {
      <button mat-raised-button class="m-auto w-50" 
      color="primary" 
      type="submit" 
      (click)="cancelEditing()"
   >
      Cancelar
   </button>
   }
</form>

